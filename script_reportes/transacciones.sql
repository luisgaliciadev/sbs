select t.*,ds_estado,tt.ds_transaccion,ds_carril as entrada, (select ds_carril from carriles as c1 where t.id_carril_salida=c1.id_carril )as salida from transacciones_puertas as t, carriles as c, tipo_transaccion as tt, estados_carga as e where t.id_carril=c.id_carril  and tt.id_tipo_trans=t.tipo_trans and ultimo_Estado=id_estado and t.cod_alma=6